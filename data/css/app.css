:root{
--bg: #0f1115; --panel:#151822; --muted:#9aa4b2; --text:#e9eef5;
--accent:#00ffae; --danger:#ff4c4c; --line:#2a3140; --slot:#1e2432;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:linear-gradient(180deg,#0b0d12,#10131b);color:var(--text);font:14px/1.4 system-ui,Segoe UI,Inter,Arial}


.topbar{display:flex;align-items:center;gap:12px;padding:10px 14px;background:#0d111a;border-bottom:1px solid #0f1420;position:sticky;top:0;z-index:10}
.brand{font-weight:700;letter-spacing:.5px}
.spacer{flex:1}
.toolbar button{margin-left:8px}
.pill{background:#111725;border:1px solid #1b2436;border-radius:999px;padding:6px 10px;margin-right:6px;color:#cde3ff}
button{background:var(--accent);border:none;color:#001b12;font-weight:700;padding:8px 12px;border-radius:10px;cursor:pointer}
button.ghost{background:transparent;border:1px solid #263147;color:#b6c2d3}
button.danger{background:transparent;border:1px solid var(--danger);color:var(--danger)}
button:active{transform:translateY(1px)}


.layout{display:grid;grid-template-columns:260px 1fr 280px;gap:16px;padding:16px}
.palette,.inspector,.builder{background:var(--panel);border:1px solid #1b2030;border-radius:12px;padding:12px}
.palette .palette-item{display:flex;align-items:center;gap:10px;padding:10px;border:1px dashed #2a3140;border-radius:10px;margin-bottom:8px;cursor:grab}
.palette .palette-item:active{cursor:grabbing}
.palette .icon{width:26px;height:26px;border-radius:6px}
.icon.relay{background:#4fd1c5}
.icon.sensor{background:#a78bfa}
.note{font-size:12px;color:var(--muted);margin-top:10px}
.trash{margin-top:16px;border:1px dashed #3a4254;padding:10px;border-radius:10px;text-align:center;color:#ff8888}
.trash.dragover{background:#3b1f25;border-color:#ff6b6b}


.builder h3{margin:0 0 8px 0}
.rail{position:relative;min-height:140px;background:linear-gradient(180deg,#0e1422,#0b0f19);border:1px solid #1f2635;border-radius:12px;padding:14px;display:flex;align-items:center;gap:10px;overflow-x:auto}
.slot{width:48px;height:8px;border-radius:999px;background:var(--slot);border:1px dashed #2f3a4d;flex:0 0 auto}
.node{display:flex;align-items:center;gap:8px;background:#172033;border:1px solid #263147;border-radius:12px;padding:8px 10px;flex:0 0 auto;cursor:grab}
.node.dragging{opacity:.6}
.node .badge{font-size:11px;color:#cbd5e1;border:1px solid #334155;border-radius:8px;padding:2px 6px}
.node .title{font-weight:700}
.node .subtitle{font-size:12px;color:#93a4b8}


.inspector .card{border:1px solid #263147;border-radius:12px;padding:10px}
.inspector .empty{display:flex;align-items:center;justify-content:center;min-height:160px;color:var(--muted)}
.inspector label{display:block;margin:10px 0 4px 0;color:#b7c3d6}
.inspector input,.inspector select{width:100%;padding:8px;border-radius:8px;border:1px solid #2a3140;background:#0f1421;color:var(--text)}
.inspector .row{display:flex;gap:8px}
.inspector .row > *{flex:1}


.foot{padding:8px 16px;color:#9fb0c6}