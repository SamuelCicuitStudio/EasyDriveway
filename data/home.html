<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="Cache-Control" content="no-store, must-revalidate" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ICM — Home</title>
  <link rel="stylesheet" href="css/home.css" />
</head>
<body>
  <div class="frame">
    <header class="topbar">
      <div class="brand">
        <span class="logo">ICM</span>
        <span class="title">Interface Control Module</span>
      </div>
      <nav class="nav">
        <a href="home.html" class="active">Home</a>
        <a href="settings.html">Settings</a>
        <a href="wifi.html">Wi-Fi</a>
        <a href="topology.html">Topology</a>
        <a href="live.html">Live</a>
        <form class="logout" action="/logout" method="post">
          <button type="submit" title="Sign out">Logout</button>
        </form>
      </nav>
    </header>

    <!-- compact hero with a big house icon -->
    <aside class="hero-card">
      <svg class="home-hero" viewBox="0 0 64 64" aria-hidden="true">
        <path d="M32 8L6 28h5v20a4 4 0 0 0 4 4h10V38h14v14h10a4 4 0 0 0 4-4V28h5L32 8z" />
      </svg>
      <div class="hero-text">
        <h2>Home</h2>
        <p>Overview & quick controls</p>
      </div>
    </aside>

    <main class="wrap">
      <section class="grid">
        <!-- Row 1 -->
        <article class="card">
          <header>
            <h3>System Mode</h3>
            <span id="modeBadge" class="badge">—</span>
          </header>
          <div class="row">
            <div class="kv"><label>Mode</label><div id="modeVal">—</div></div>
            <div class="kv"><label>Wi-Fi</label><div id="wifiVal">—</div></div>
          </div>
        </article>

        <article class="card">
          <header>
            <h3>Power</h3>
            <span id="pwrBadge" class="badge">—</span>
          </header>
          <div class="row">
            <div class="kv"><label>Source</label><div id="pwrSrc">—</div></div>
            <div class="kv"><label>Health</label><div id="pwrHlth">—</div></div>
          </div>
        </article>

        <!-- Row 2 -->
        <article class="card">
          <header>
            <h3>Time</h3>
            <span class="badge">RTC</span>
          </header>
          <div class="row">
            <div class="kv"><label>Now</label><div id="timeNow">—</div></div>
            <div class="kv"><label>Uptime</label><div id="uptime">—</div></div>
          </div>
        </article>

        <article class="card">
          <header>
            <h3>Faults</h3>
            <span id="fltBadge" class="badge">—</span>
          </header>
          <ul id="faultList" class="list"></ul>
        </article>

        <!-- Row 3: Cooling (L) + Sleep (R) -->
        <article class="card">
          <header>
            <h3>Temperature & Cooling</h3>
            <span id="coolBadge" class="badge">—</span>
          </header>
          <div class="cool-grid">
            <div class="kv lg">
              <label>Module Temperature</label>
              <div class="temp"><span id="tempVal">—</span><small>°C</small></div>
              <div class="sub">RTC Temp: <span id="rtcTemp">—</span> °C</div>
            </div>
            <div class="kv">
              <label>Fan Mode</label>
              <select id="coolMode">
                <option value="AUTO">Auto</option>
                <option value="ECO">Eco</option>
                <option value="NORMAL">Normal</option>
                <option value="FORCED">Forced</option>
                <option value="STOPPED">Stopped</option>
              </select>
              <div class="sub">Applied: <span id="coolApplied">—</span></div>
            </div>
            <div class="kv">
              <label>Manual Speed</label>
              <input id="coolSpeed" class="range" type="range" min="0" max="100" step="1" value="0" />
              <div class="sub">Current: <span id="coolPct">0</span>%</div>
            </div>
          </div>
        </article>

        <article class="card">
          <header>
            <h3>Sleep Timer</h3>
            <span id="sleepBadge" class="badge">—</span>
          </header>
          <div class="sleep-grid">
            <div class="kv">
              <label>Inactivity Timeout (sec)</label>
              <div class="row smallgap">
                <input id="sleepTimeout" type="number" min="5" step="5" value="600" />
                <button id="sleepApply" class="btn">Apply</button>
              </div>
              <div class="sub">Seconds to sleep: <span id="sleepLeft">—</span></div>
            </div>

            <div class="kv">
              <label>Manual Sleep</label>
              <div class="row smallgap">
                <input id="sleepAfter" type="number" min="1" step="1" value="60" />
                <button id="sleepSchedule" class="btn warn">Sleep after (s)</button>
              </div>
              <div class="row smallgap">
                <button id="sleepReset" class="btn">Reset inactivity</button>
              </div>
              <div class="sub">Armed: <span id="sleepArmed">—</span> | Next wake: <span id="sleepWake">—</span></div>
            </div>
          </div>
        </article>

        <!-- Row 4: Controls full width -->
        <article class="card full">
          <header><h3>General Controls</h3></header>
          <div class="controls">
            <label class="switch">
              <input id="buzzerToggle" type="checkbox" />
              <span class="slider"></span>
              <span class="lbl">Buzzer feedback</span>
            </label>

            <button id="btnReset" class="btn warn" title="Factory reset settings">Reset</button>
            <button id="btnRestart" class="btn danger" title="Reboot device">Restart</button>
          </div>
          <div id="toast" class="toast" hidden>Saved</div>
        </article>
      </section>
    </main>
  </div>

  <script src="js/home.mock.js"></script>
</body>
</html>
